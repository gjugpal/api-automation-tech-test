# Example API Testing Framework

## Introduction
I've selected a pair of APIs from the Booking.com site for which I've formulated sample API tests. It's important to
understand that these tests are merely illustrative and not an exhaustive compilation. 
The APIs were chosen in a random manner from the observed web traffic while I was navigating the Booking.com site's 
user interface and examining the requests being sent to the backend.

#### APIs under test
* Get Flight Information ( /flights ) -- returns all flights based on provided query parameters
* Get Flight Information By Token ( /flight/{token} ) -- returns flight information based on flight token id

### Tools

* Java
* Maven
* Unirest
* ExtentReports


### Framework
The framework employs the Builder pattern alongside serialisation/deserialisation. In this approach, a test initially 
constructs the desired API request such as...
```java
GetFlights getFlights = GetFlights.builder()
            .type("ONEWAY")
            .adults("1")
            .cabinClass("FIRST")
            .from("LHR.AIRPORT")
            .to("CDG.AIRPORT")
            .fromCountry("GB")
            .toCountry("FR")
            .stops("1")
            .depart("2023-09-23")
            .sort("BEST")
            .build();
```
This request comprises several filter parameters (query parameters). Subsequently, the test transmits the request through
the RequestHandler class. Following this, the response body (JSON body) gets transformed into a Java object, 
accomplished through the utilization of the GSON library. Then, the test carries out assertions such as;
```java
// convert json response body into a FlightOffers object
FlightOffers flightOffers = new Gson().fromJson(response.getBody().toString(), FlightOffers.class);

// count the number of flights returned where the cabin class is set to First Class
long numOfFirstClassFlights = flightOffers.getFlightOffers().stream()
    .filter(flight -> flight.getBrandedFareInfo().getCabinClass().equalsIgnoreCase("FIRST"))
    .count();

// assert that all the flights returned are first class only flights as this is what we filtered for in our initial search
assertThat((int) numOfFirstClassFlights, is(flightOffers.getFlightOffers().size()));
```

### Reporting
I've used ExtentReports for producing a report on test execution. A notable feature I've included is comprehensive 
logging of all requests and responses, providing valuable assistance in the troubleshooting process.
```java
REQUEST
-----------
METHOD: GET
URL: https://flights.booking.com/api/flights/?type=ONEWAY&cabinClass=FIRST&sort=BEST&adults=1&from=LHR.AIRPORT&to=CDG.AIRPORT&fromCountry=GB&toCountry=FR&stops=1&depart=2023-09-23
HEADERS: {}
```

```java
RESPONSE
-----------
STATUS_CODE: 200
STATUS_TEXT: OK
HEADERS: {Transfer-Encoding=[chunked], date=[Thu, 24 Aug 2023 12:07:53 GMT], x-request-id=[dac5e300-4276-11ee-9d00-ff743bf9b996], server=[envoy], X-Cache=[Miss from cloudfront], vary=[Accept-Encoding,Origin], x-frame-options=[SAMEORIGIN], X-Amz-Cf-Pop=[MAN50-C1], Connection=[keep-alive], strict-transport-security=[max-age=300; includeSubDomains], Via=[1.1 42322007e22ea6a235ae829b1f254f98.cloudfront.net (CloudFront)], set-cookie=[fasc=1ccb0912-e09f-4f3e-812b-937f73570f32; Max-Age=86400; Domain=.booking.com; Path=/; Expires=Fri, 25 Aug 2023 12:07:53 GMT; HttpOnly; Secure, pc_payer_id=8ad9c309-d366-40df-b90c-d60e09d1d05f; Max-Age=31536000; Domain=.booking.com; Path=/; Expires=Fri, 23 Aug 2024 12:07:53 GMT; HttpOnly; Secure; SameSite=Strict, fsc=s%3Aa7d2b6ba0ba7128a844ab8e44e2ee31d.DyIqIFNoDsfDuq9ABujMUWbKNs%2FrVdXz1Mcr708moyg; Domain=.booking.com; Path=/; Expires=Fri, 23 Aug 2024 12:07:53 GMT; HttpOnly; Secure], access-control-allow-credentials=[true], x-content-type-options=[nosniff], x-xss-protection=[1; mode=block], referrer-policy=[no-referrer], X-Amz-Cf-Id=[Vwqk343dBqg8bWCULcPO4dvj_6oZsNtw7CFXh826NwEAAerc4bKrWA==], x-booking-app-version=[08b918e37822eca97641a71045c4623e986792b8], Content-Type=[application/json; charset=utf-8]}
BODY: {"flightOffers":[{"offerExtras":{"flexibleTicket":{"travellers":["1"],"airProductReference":"n/a","priceBreakdown":{"total":{"nanos":630000000,"units":1024,"currencyCode":"GBP"},"baseFare":{"nanos":630000000,"units":1024,"currencyCode":"GBP"},"moreTaxesAndFees":{},"fee":{"nanos":0,"units":0,"currencyCode":"GBP"},"discount":{"nanos":0,"units":0,"currencyCode":"GBP"},"tax":{"nanos":0,"units":0,"currencyCode":"GBP"},"totalWithoutDiscount":{"nanos":630000000,"units":1024,"currencyCode":"GBP"}}}},"requestableBrandedFares":true,"appliedDiscounts":[],"includedProducts":{"areAllSegmentsIdentical":true,"segments":[[{"maxPiece":2,"luggageType":"HAND","maxWeightPerPiece":7,"massUnit":"KG"},{"maxTotalWeight":50,"maxPiece":1,"luggageType":"CHECKED_IN","ruleType":"WEIGHT_BASED","massUnit":"KG"}]]},"extraProductDisplayRequirements":{},"travellerPrices":[{"travellerReference":"1","travellerPriceBreakdown":{"total":{"nanos":820000000,"units":7318,"currencyCode":"GBP"},"baseFare":{"nanos":620000000,"units":6476,"currencyCode":"GBP"},"moreTaxesAndFees":{},"fee":{"nanos":0,"units":0,"currencyCode":"GBP"},"discount":{"nanos":0,"units":0,"currencyCode":"GBP"},"tax":{"nanos":200000000,"units":842,"currencyCode":"GBP"},"totalWithoutDiscount":{"nanos":820000000,"units":7318,"currencyCode":"GBP"}},"travellerType":"ADULT"}],"token":"d6a1f_H4sIAAAAAAAA_y2QbW-CMBSFf41-o9AWrZg0ixNQp8B8g2VfGqwVUWYdrfPl16-TpTf3OeemvTnpXuuz6tv2riqLvVbW5QgKqWWRawG4_LJ3tWkbKY_lqbDzsrZn48XQHyG8DN5taFvm8H74Im7aUjWn7XIjQK44hf-qpl2AYZi9OjB9jrjU1AV4Ert-2vvws2ZY01HyFkD8dFsaDa_X5DFQka8M1yQ6RCRyqiQOFlkSLubpQWcxnKu0qqazkF-TldJxGE9m_kCtU9nC_nOR4CYIAC7xmjgyV__BJNcUOo3carr4zLzJuLGaEgx7PfR0NwoR8jCAiOBeW4lKcF3K01TcaTDFjmX-QZwRtgYsmBJoIbexYQsN79fvH3QxooUHpgrmAtdwzxzgGOZsiUB3ZdSGkcCAMxIabBlxiMf_rghmce5xo3asY3rJIGgeH9gkM3iw4lg7neIXSQ73W8UBAAA.","segments":[{"departureTime":"2023-09-23T16:50:00","isAtolProtected":true,"departureAirport":{"country":"GB","code":"LHR","cityName":"London","city":"LON","name":"London Heathrow Apt","countryName":"United Kingdom","type":"AIRPORT"},"travellerCabinLuggage":[{"travellerReference":"1","luggageAllowance":{"maxPiece":2,"luggageType":"HAND","maxWeightPerPiece":7,"massUnit":"KG"}}],"arrivalTime":"2023-09-24T09:25:00","totalTime":56100,"legs":[{"departureTime":"2023-09-23T16:50:00","cabinClass":"FIRST","flightInfo":{"carrierInfo":{"marketingCarrier":"EK","operatingCarrier":"EK","operatingCarrierDisclosureText":""},"facilities":[],"planeType":"388","flightNumber":30},"departureTerminal":"3","carriersData":[{"code":"EK","name":"Emirates Airline","logo":"https://r-xx.bstatic.com/data/airlines_logo/EK.png"},{"code":"EK","name":"Emirates Airline","logo":"https://r-xx.bstatic.com/data/airlines_logo/EK.png"}],"departureAirport":{"country":"GB","code":"LHR","cityName":"London","city":"LON","name":"London Heathrow Apt","countryName":"United Kingdom","type":"AIRPORT"},"arrivalTime":"2023-09-24T02:45:00","totalTime":24900,"flightStops":[],"carriers":["EK","EK"],"arrivalAirport":{"country":"AE","code":"DXB","cityName":"Dubai","city":"DXB","name":"Dubai","countryName":"United Arab Emirates","type":"AIRPORT"},"arrivalTerminal":"3"},{"departureTime":"2023-09-24T04:05:00","cabinClass":"FIRST","flightInfo":{"carrierInfo":{"marketingCarrier":"EK","operatingCarrier":"EK","operatingCarrierDisclosureText":""},"facilities":[],"planeType":"388","flightNumber":71},"departureTerminal":"3","carriersData":[{"code":"EK","name":"Emirates Airline","logo":"https://r-xx.bstatic.com/data/airlines_logo/EK.png"},{"code":"EK","name":"Emirates Airline","logo":"https://r-xx.bstatic.com/data/airlines_logo/EK.png"}],"departureAirport":{"country":"AE","code":"DXB","cityName":"Dubai","city":"DXB","name":"Dubai","countryName":"United Arab Emirates","type":"AIRPORT"},"arrivalTime":"2023-09-24T09:25:00","totalTime":26400,"flightStops":[],"carriers":["EK","EK"],"arrivalAirport":{"country":"FR","code":"CDG","cityName":"Paris","city":"PAR","name":"Paris Charles De Gaulle Apt","countryName":"France","type":"AIRPORT"},"arrivalTerminal":"1"}],"showWarningOriginAirport":false,"travellerCheckedLuggage":[{"travellerReference":"1","luggageAllowance":{"maxTotalWeight":50,"maxPiece":1,"luggageType":"CHECKED_IN","ruleType":"WEIGHT_BASED","massUnit":"KG"}}],"arrivalAirport":{"country":"FR","code":"CDG","cityName":"Paris","city":"PAR","name":"Paris Charles De Gaulle Apt","countryName":"France","type":"AIRPORT"},"showWarningDestinationAirport":false}],"pointOfSale":"gb","tripType":"ONEWAY","ancillaries":{"flexibleTicket":{"travellers":["1"],"airProductReference":"n/a","priceBreakdown":{"total":{"nanos":630000000,"units":1024,"currencyCode":"GBP"},"baseFare":{"nanos":630000000,"units":1024,"currencyCode":"GBP"},"moreTaxesAndFees":{},"fee":{"nanos":0,"units":0,"currencyCode":"GBP"},"discount":{"nanos":0,"units":0,"currencyCode":"GBP"},"tax":{"nanos":0,"units":0,"currencyCode":"GBP"},"totalWithoutDiscount":{"nanos":630000000,"units":1024,"currencyCode":"GBP"}},"preSelected":false}},"brandedFareInfo":{"cabinClass":"FIRST","features":[],"nonIncludedFeatures":[],"fareName":"FIRST FLEX","fareAttributes":[]},"extraProducts":[{"priceBreakdown":{"total":{"nanos":630000000,"units":1024,"currencyCode":"GBP"},"baseFare":{"nanos":630000000,"units":1024,"currencyCode":"GBP"},"moreTaxesAndFees":{},"fee":{"nanos":0,"units":0,"currencyCode":"GBP"},"discount":{"nanos":0,"units":0,"currencyCode":"GBP"},"tax":{"nanos":0,"units":0,"currencyCode":"GBP"},"totalWithoutDiscount":{"nanos":630000000,"units":1024,"currencyCode":"GBP"}},"type":"flexibleTicket"}],"priceDisplayRequirements":["SEAT_MAP_PRICE_BREAKDOWN"],"priceBreakdown":{"total":{"nanos":820000000,"units":7318,"currencyCode":"GBP"},"baseFare":{"nanos":620000000,"units":6476,"currencyCode":"GBP"},"moreTaxesAndFees":{},"fee":{"nanos":0,"units":0,"currencyCode":"GBP"},"discount":{"nanos":0,"units":0,"currencyCode":"GBP"},"tax":{"nanos":200000000,"units":842,"currencyCode":"GBP"},"carrierTaxBreakdown":[{"carrier":{"code":"EK","name":"Emirates Airline","logo":"https://r-xx.bstatic.com/data/airlines_logo/EK.png"},"avgPerAdult":{"nanos":200000000,"units":842,"currencyCode":"GBP"}}],"totalWithoutDiscount":{"nanos":820000000,"units":7318,"currencyCode":"GBP"}},"posMismatch":{"detectedPointOfSale":"gb","isPOSMismatch":false,"offerSalesCountry":"gb"},"offerKeyToHighlight":"1_EK30_EK71","seatAvailability":{"numberOfSeatsAvailable":4}},{"offerExtras":{"flexibleTicket":{"travellers":["1"],"airProductReference":"n/a","priceBreakdown":{"total":{"nanos":630000000,"units":1024,"currencyCode":"GBP"},"baseFare":{"nanos":630000000,"units":1024,"currencyCode":"GBP"},"moreTaxesAndFees":{},"fee":{"nanos":0,"units":0,"currencyCode":"GBP"},"discount":{"nanos":0,"units":0,"currencyCode":"GBP"},"tax":{"nanos":0,"units":0,"currencyCode":"GBP"},"totalWithoutDiscount":{"nanos":630000000,"units":1024,"currencyCode":"GBP"}}}},"requestableBrandedFares":true,"appliedDiscounts":[],"includedProducts":{"areAllSegmentsIdentical":true,"segments":[[{"maxPiece":2,"luggageType":"HAND","maxWeightPerPiece":7,"massUnit":"KG"},{"maxTotalWeight":50,"maxPiece":1,"luggageType":"CHECKED_IN","ruleType":"WEIGHT_BASED","massUnit":"KG"}]]},"extraProductDisplayRequirements":{},"travellerPrices":[{"travellerReference":"1","travellerPriceBreakdown":{"total":{"nanos":820000000,"units":7318,"currencyCode":"GBP"},"baseFare":{"nanos":620000000,"units":6476,"currencyCode":"GBP"},"moreTaxesAndFees":{},"fee":{"nanos":0,"units":0,"currencyCode":"GBP"},"discount":{"nanos":0,"units":0,"currencyCode":"GBP"},"tax":{"nanos":200000000,"units":842,"currencyCode":"GBP"},"totalWithoutDiscount":{"nanos":820000000,"units":7318,"currencyCode":"GBP"}},"travellerType":"ADULT"}],"token":"d6a1f_H4sIAAAAAAAA_y2QUW-CMBSFf42-USjFVUyaxQkoU2CyCW4vDdaKKLOOdtH561fBtLnfOTf3NifdK3WWI9Pc1VW5V9L4PYJSKFEWigMmvs1do8tGiGN1Ks2iaszFLJ14Uxu9-28mNA192Ch45ldlyIaRfrXhoJCMwIdqyBNAMMhfLJi1LSYUcQAKY8fLhmtv3TUbMk1efYhatyXR5HJJbmMZeVJzhaNDhCOrTmI_zZMgXWYHlcdwKbO6ni8Cdkk-pIqDOFx4Y7nKRA957UOc6SAAONjt4ohCPoIJpgi0OrlVJP3K3XDWWUUwgsOh3borgbbtIgBtjIZ9yWvOVCVOc_5H_Llj6G_gZxsZY-rPMTJsp7NBz55cix_nKLToobG-JXWAo7mnFrA0C_o5BV6u1YZiX4NRHGhsKbawy-4jnBqMuUyrHR3oWlEIuuUDDe-bN1oeG2tQ_gNlhX3DxAEAAA..","segments":[{"departureTime":"2023-09-23T20:40:00","isAtolProtected":true,"departureAirport":{"country":"GB","code":"LHR","cityName":"London","city":"LON","name":"London Heathrow Apt","countryName":"United Kingdom","type":"AIRPORT"},"travellerCabinLuggage":[{"travellerReference":"1","luggageAllowance":{"maxPiece":2,"luggageType":"HAND","maxWeightPerPiece":7,"massUnit":"KG"}}],"arrivalTime":"2023-09-24T13:30:00","totalTime":57000,"legs":[{"departureTime":"2023-09-23T20:40:00","cabinClass":"FIRST","flightInfo":{"carrierInfo":{"marketingCarrier":"EK","operatingCarrier":"EK","operatingCarrierDisclosureText":""},"facilities":[],"planeType":"388","flightNumber":4},"departureTerminal":"3","carriersData":[{"code":"EK","name":"Emirates Airline","logo":"https://r-xx.bstatic.com/data/airlines_logo/EK.png"},{"code":"EK","name":"Emirates Airline","logo":"https://r-xx.bstatic.com/data/airlines_logo/EK.png"}],"departureAirport":{"country":"GB","code":"LHR","cityName":"London","city":"LON","name":"London Heathrow Apt","countryName":"United Kingdom","type":"AIRPORT"},"arrivalTime":"2023-09-24T06:35:00","totalTime":24900,"flightStops":[],"carriers":["EK","EK"],"arrivalAirport":{"country":"AE","code":"DXB","cityName":"Dubai","city":"DXB","name":"Dubai","countryName":"United Arab Emirates","type":"AIRPORT"},"arrivalTerminal":"3"},{"departureTime":"2023-09-24T08:20:00","cabinClass":"FIRST","flightInfo":{"carrierInfo":{"marketingCarrier":"EK","operatingCarrier":"EK","operatingCarrierDisclosureText":""},"facilities":[],"planeType":"388","flightNumber":73},"departureTerminal":"3","carriersData":[{"code":"EK","name":"Emirates Airline","logo":"https://r-xx.bstatic.com/data/airlines_logo/EK.png"},{"code":"EK","name":"Emirates Airline","logo":"https://r-xx.bstatic.com/data/airlines_logo/EK.png"}],"departureAirport":{"country":"AE","code":"DXB","cityName":"Dubai","city":"DXB","name":"Dubai","countryName":"United Arab Emirates","type":"AIRPORT"},"arrivalTime":"2023-09-24T13:30:00","totalTime":25800,"flightStops":[],"carriers":["EK","EK"],"arrivalAirport":{"country":"FR","code":"CDG","cityName":"Paris","city":"PAR","name":"Paris Charles De Gaulle Apt","countryName":"France","type":"AIRPORT"},"arrivalTerminal":"1"}],"showWarningOriginAirport":false,"travellerCheckedLuggage":[{"travellerReference":"1","luggageAllowance":{"maxTotalWeight":50,"maxPiece":1,"luggageType":"CHECKED_IN","ruleType":"WEIGHT_BASED","massUnit":"KG"}}],"arrivalAirport":{"country":"FR","code":"CDG","cityName":"Paris","city":"PAR","name":"Paris Charles De Gaulle Apt","countryName":"France","type":"AIRPORT"},"showWarningDestinationAirport":false}],"pointOfSale":"gb","tripType":"ONEWAY","ancillaries":{"flexibleTicket":{"travellers":["1"],"airProductReference":"n/a","priceBreakdown":{"total":{"nanos":630000000,"units":1024,"currencyCode":"GBP"},"baseFare":{"nanos":630000000,"units":1024,"currencyCode":"GBP"},"moreTaxesAndFees":{},"fee":{"nanos":0,"units":0,"currencyCode":"GBP"},"discount":{"nanos":0,"units":0,"currencyCode":"GBP"},"tax":{"nanos":0,"units":0,"currencyCode":"GBP"},"totalWithoutDiscount":{"nanos":630000000,"units":1024,"currencyCode":"GBP"}},"preSelected":false}},"brandedFareInfo":{"cabinClass":"FIRST","features":[],"nonIncludedFeatures":[],"fareName":"FIRST FLEX","fareAttributes":[]},"extraProducts":[{"priceBreakdown":{"total":{"nanos":630000000,"units":1024,"currencyCode":"GBP"},"baseFare":{"nanos":630000000,"units":1024,"currencyCode":"GBP"},"moreTaxesAndFees":{},"fee":{"nanos":0,"units":0,"currencyCode":"GBP"},"discount":{"nanos":0,"units":0,"currencyCode":"GBP"},"tax":{"nanos":0,"units":0,"currencyCode":"GBP"},"totalWithoutDiscount":{"nanos":630000000,"units":1024,"currencyCode":"GBP"}},"type":"flexibleTicket"}],"priceDisplayRequirements":["SEAT_MAP_PRICE_BREAKDOWN"],"priceBreakdown":{"total":{"nanos":820000000,"units":7318,"currencyCode":"GBP"},"baseFare":{"nanos":620000000,"units":6476,"currencyCode":"GBP"},"moreTaxesAndFees":{},"fee":{"nanos":0,"units":0,"currencyCode":"GBP"},"discount":{"nanos":0,"units":0,"currencyCode":"GBP"},"tax":{"nanos":200000000,"units":842,"currencyCode":"GBP"},"carrierTaxBreakdown":[{"carrier":{"code":"EK","name":"Emirates Airline","logo":"https://r-xx.bstatic.com/data/airlines_logo/EK.png"},"avgPerAdult":{"nanos":200000000,"units":842,"currencyCode":"GBP"}}],"totalWithoutDiscount":{"nanos":820000000,"units":7318,"currencyCode":"GBP"}},"posMismatch":{"detectedPointOfSale":"gb","isPOSMismatch":false,"offerSalesCountry":"gb"},"offerKeyToHighlight":"1_EK4_EK73","seatAvailability":{"numberOfSeatsAvailable":4}},{"offerExtras":{"flexibleTicket":{"travellers":["1"],"airProductReference":"n/a","priceBreakdown":{"total":{"nanos":630000000,"units":1024,"currencyCode":"GBP"},"baseFare":{"nanos":630000000,"units":1024,"currencyCode":"GBP"},"moreTaxesAndFees":{},"fee":{"nanos":0,"units":0,"currencyCode":"GBP"},"discount":{"nanos":0,"units":0,"currencyCode":"GBP"},"tax":{"nanos":0,"units":0,"currencyCode":"GBP"},"totalWithoutDiscount":{"nanos":630000000,"units":1024,"currencyCode":"GBP"}}}},"requestableBrandedFares":true,"appliedDiscounts":[],"includedProducts":{"areAllSegmentsIdentical":true,"segments":[[{"maxPiece":2,"luggageType":"HAND","maxWeightPerPiece":7,"massUnit":"KG"},{"maxTotalWeight":50,"maxPiece":1,"luggageType":"CHECKED_IN","ruleType":"WEIGHT_BASED","massUnit":"KG"}]]},"extraProductDisplayRequirements":{},"travellerPrices":[{"travellerReference":"1","travellerPriceBreakdown":{"total":{"nanos":820000000,"units":7318,"currencyCode":"GBP"},"baseFare":{"nanos":620000000,"units":6476,"currencyCode":"GBP"},"moreTaxesAndFees":{},"fee":{"nanos":0,"units":0,"currencyCode":"GBP"},"discount":{"nanos":0,"units":0,"currencyCode":"GBP"},"tax":{"nanos":200000000,"units":842,"currencyCode":"GBP"},"totalWithoutDiscount":{"nanos":820000000,"units":7318,"currencyCode":"GBP"}},"travellerType":"ADULT"}],"token":"d6a1f_H4sIAAAAAAAA_y2QbW-CMBSFf41-o9AWVzFpFiegToHJJrh9abBWRJk1tIsvv35VTJv7nHNzb3PSndYnNbDtbV2VO62svwMopZZloQXg8tfeNqaspTxUx9IuqsaeT9KRP0b4M_iwoW2Zwwfhq7hoSzWcdqu1AIXiFD5VQ18AhmH-5sDs0eJSUxfgaez6WX_lf7fNho6T9wDih9vQaHQ-J7ehinxluCTRPiKRUydxkOZJmC6yvc5juFBZXc_mIT8nX0rHYTyd-0O1zGQH-4-HBDdBAHCJ18aRhXoGk1xT6LRyo2n6k3vTSWs1JRj2--jhLhQi5GEAEcH9rhK14LqSx5m40mCGkWX-QZwQtoYsmBFsIbe1YQeNrrcrPAojOnhobslc4BrumAMcw4KtEPBzo9aMBAackdBgw4hDPH4fEczi3ONGbVnP1IpB0C7v2fS-eWPloXF65T8P-0FuxQEAAA..","segments":[{"departureTime":"2023-09-23T19:50:00","isAtolProtected":true,"departureAirport":{"country":"GB","code":"LHR","cityName":"London","city":"LON","name":"London Heathrow Apt","countryName":"United Kingdom","type":"AIRPORT"},"travellerCabinLuggage":[{"travellerReference":"1","luggageAllowance":{"maxPiece":2,"luggageType":"HAND","maxWeightPerPiece":7,"massUnit":"KG"}}],"arrivalTime":"2023-09-24T13:30:00","totalTime":60000,"legs":[{"departureTime":"2023-09-23T19:50:00","cabinClass":"FIRST","flightInfo":{"carrierInfo":{"marketingCarrier":"EK","operatingCarrier":"EK","operatingCarrierDisclosureText":""},"facilities":[],"planeType":"388","flightNumber":32},"departureTerminal":"3","carriersData":[{"code":"EK","name":"Emirates Airline","logo":"https://r-xx.bstatic.com/data/airlines_logo/EK.png"},{"code":"EK","name":"Emirates Airline","logo":"https://r-xx.bstatic.com/data/airlines_logo/EK.png"}],"departureAirport":{"country":"GB","code":"LHR","cityName":"London","city":"LON","name":"London Heathrow Apt","countryName":"United Kingdom","type":"AIRPORT"},"arrivalTime":"2023-09-24T05:50:00","totalTime":25200,"flightStops":[],"carriers":["EK","EK"],"arrivalAirport":{"country":"AE","code":"DXB","cityName":"Dubai","city":"DXB","name":"Dubai","countryName":"United Arab Emirates","type":"AIRPORT"},"arrivalTerminal":"3"},{"departureTime":"2023-09-24T08:20:00","cabinClass":"FIRST","flightInfo":{"carrierInfo":{"marketingCarrier":"EK","operatingCarrier":"EK","operatingCarrierDisclosureText":""},"facilities":[],"planeType":"388","flightNumber":73},"departureTerminal":"3","carriersData":[{"code":"EK","name":"Emirates Airline","logo":"https://r-xx.bstatic.com/data/airlines_logo/EK.png"},{"code":"EK","name":"Emirates Airline","logo":"https://r-xx.bstatic.com/data/airlines_logo/EK.png"}],"departureAirport":{"country":"AE","code":"DXB","cityName":"Dubai","city":"DXB","name":"Dubai","countryName":"United Arab Emirates","type":"AIRPORT"},"arrivalTime":"2023-09-24T13:30:00","totalTime":25800,"flightStops":[],"carriers":["EK","EK"],"arrivalAirport":{"country":"FR","code":"CDG","cityName":"Paris","city":"PAR","name":"Paris Charles De Gaulle Apt","countryName":"France","type":"AIRPORT"},"arrivalTerminal":"1"}],"showWarningOriginAirport":false,"travellerCheckedLuggage":[{"travellerReference":"1","luggageAllowance":{"maxTotalWeight":50,"maxPiece":1,"luggageType":"CHECKED_IN","ruleType":"WEIGHT_BASED","massUnit":"KG"}}],"arrivalAirport":{"country":"FR","code":"CDG","cityName":"Paris","city":"PAR","name":"Paris Charles De Gaulle Apt","countryName":"France","type":"AIRPORT"},"showWarningDestinationAirport":false}],"pointOfSale":"gb","tripType":"ONEWAY","ancillaries":{"flexibleTicket":{"travellers":["1"],"airProductReference":"n/a","priceBreakdown":{"total":{"nanos":630000000,"units":1024,"currencyCode":"GBP"},"baseFare":{"nanos":630000000,"units":1024,"currencyCode":"GBP"},"moreTaxesAndFees":{},"fee":{"nanos":0,"units":0,"currencyCode":"GBP"},"discount":{"nanos":0,"units":0,"currencyCode":"GBP"},"tax":{"nanos":0,"units":0,"currencyCode":"GBP"},"totalWithoutDiscount":{"nanos":630000000,"units":1024,"currencyCode":"GBP"}},"preSelected":false}},"brandedFareInfo":{"cabinClass":"FIRST","features":[],"nonIncludedFeatures":[],"fareName":"FIRST FLEX","fareAttributes":[]},"extraProducts":[{"priceBreakdown":{"total":{"nanos":630000000,"units":1024,"currencyCode":"GBP"},"baseFare":{"nanos":630000000,"units":1024,"currencyCode":"GBP"},"moreTaxesAndFees":{},"fee":{"nanos":0,"units":0,"currencyCode":"GBP"},"discount":{"nanos":0,"units":0,"currencyCode":"GBP"},"tax":{"nanos":0,"units":0,"currencyCode":"GBP"},"totalWithoutDiscount":{"nanos":630000000,"units":1024,"currencyCode":"GBP"}},"type":"flexibleTicket"}],"priceDisplayRequirements":["SEAT_MAP_PRICE_BREAKDOWN"],"priceBreakdown":{"total":{"nanos":820000000,"units":7318,"currencyCode":"GBP"},"baseFare":{"nanos":620000000,"units":6476,"currencyCode":"GBP"},"moreTaxesAndFees":{},"fee":{"nanos":0,"units":0,"currencyCode":"GBP"},"discount":{"nanos":0,"units":0,"currencyCode":"GBP"},"tax":{"nanos":200000000,"units":842,"currencyCode":"GBP"},"carrierTaxBreakdown":[{"carrier":{"code":"EK","name":"Emirates Airline","logo":"https://r-xx.bstatic.com/data/airlines_logo/EK.png"},"avgPerAdult":{"nanos":200000000,"units":842,"currencyCode":"GBP"}}],"totalWithoutDiscount":{"nanos":820000000,"units":7318,"currencyCode":"GBP"}},"posMismatch":{"detectedPointOfSale":"gb","isPOSMismatch":false,"offerSalesCountry":"gb"},"offerKeyToHighlight":"1_EK32_EK73","seatAvailability":{"numberOfSeatsAvailable":4}}],"isOffersCabinClassExtended":false,"aggregation":{"filteredTotalCount":3,"baggage":[{"baggageType":"CABIN","count":3,"paramName":"includedBaggage","enabled":true},{"baggageType":"CHECKIN","count":3,"paramName":"includedBaggage","enabled":true}],"flightTimes":[{"arrival":[{"start":"00:00","count":0,"end":"05:59"},{"start":"06:00","count":1,"end":"11:59"},{"start":"12:00","count":2,"end":"17:59"},{"start":"18:00","count":0,"end":"23:59"}],"departure":[{"start":"00:00","count":0,"end":"05:59"},{"start":"06:00","count":0,"end":"11:59"},{"start":"12:00","count":1,"end":"17:59"},{"start":"18:00","count":2,"end":"23:59"}]}],"minPriceFiltered":{"nanos":820000000,"units":7318,"currencyCode":"GBP"},"totalCount":3,"budgetPerAdult":{"min":{"nanos":820000000,"units":7318,"currencyCode":"GBP"},"max":{"nanos":820000000,"units":7318,"currencyCode":"GBP"},"paramName":"maxBudgetPerAdult"},"duration":[{"min":16,"max":17,"paramName":"maxDuration","durationType":"JOURNEY","enabled":true},{"min":2,"max":3,"paramName":"maxLayoverDuration","durationType":"LAYOVER","enabled":true}],"durationMax":17,"departureIntervals":[{"start":"16:50","end":"20:40"}],"minPrice":{"nanos":820000000,"units":7318,"currencyCode":"GBP"},"airlines":[{"iataCode":"EK","minPrice":{"nanos":820000000,"units":7318,"currencyCode":"GBP"},"name":"Emirates Airline","count":3,"logoUrl":"https://r-xx.bstatic.com/data/airlines_logo/EK.png"}],"stops":[{"numberOfStops":1,"minPrice":{"nanos":820000000,"units":7318,"currencyCode":"GBP"},"count":3}],"durationMin":16,"budget":{"min":{"nanos":820000000,"units":7318,"currencyCode":"GBP"},"max":{"nanos":820000000,"units":7318,"currencyCode":"GBP"},"paramName":"maxBudget"}},"flightDeals":[{"price":{"nanos":820000000,"units":7318,"currencyCode":"GBP"},"offerToken":"d6a1f_H4sIAAAAAAAA_y2QbW-CMBSFf41-o9AWrZg0ixNQp8B8g2VfGqwVUWYdrfPl16-TpTf3OeemvTnpXuuz6tv2riqLvVbW5QgKqWWRawG4_LJ3tWkbKY_lqbDzsrZn48XQHyG8DN5taFvm8H74Im7aUjWn7XIjQK44hf-qpl2AYZi9OjB9jrjU1AV4Ert-2vvws2ZY01HyFkD8dFsaDa_X5DFQka8M1yQ6RCRyqiQOFlkSLubpQWcxnKu0qqazkF-TldJxGE9m_kCtU9nC_nOR4CYIAC7xmjgyV__BJNcUOo3carr4zLzJuLGaEgx7PfR0NwoR8jCAiOBeW4lKcF3K01TcaTDFjmX-QZwRtgYsmBJoIbexYQsN79fvH3QxooUHpgrmAtdwzxzgGOZsiUB3ZdSGkcCAMxIabBlxiMf_rghmce5xo3asY3rJIGgeH9gkM3iw4lg7neIXSQ73W8UBAAA.","travellerPrices":[{"travellerReference":"1","travellerPriceBreakdown":{"total":{"nanos":820000000,"units":7318,"currencyCode":"GBP"},"baseFare":{"nanos":620000000,"units":6476,"currencyCode":"GBP"},"moreTaxesAndFees":{},"fee":{"nanos":0,"units":0,"currencyCode":"GBP"},"discount":{"nanos":0,"units":0,"currencyCode":"GBP"},"tax":{"nanos":200000000,"units":842,"currencyCode":"GBP"},"totalWithoutDiscount":{"nanos":820000000,"units":7318,"currencyCode":"GBP"}},"travellerType":"ADULT"}],"key":"CHEAPEST"},{"price":{"nanos":820000000,"units":7318,"currencyCode":"GBP"},"offerToken":"d6a1f_H4sIAAAAAAAA_y2QbW-CMBSFf41-o9AWrZg0ixNQp8B8g2VfGqwVUWYdrfPl16-TpTf3OeemvTnpXuuz6tv2riqLvVbW5QgKqWWRawG4_LJ3tWkbKY_lqbDzsrZn48XQHyG8DN5taFvm8H74Im7aUjWn7XIjQK44hf-qpl2AYZi9OjB9jrjU1AV4Ert-2vvws2ZY01HyFkD8dFsaDa_X5DFQka8M1yQ6RCRyqiQOFlkSLubpQWcxnKu0qqazkF-TldJxGE9m_kCtU9nC_nOR4CYIAC7xmjgyV__BJNcUOo3carr4zLzJuLGaEgx7PfR0NwoR8jCAiOBeW4lKcF3K01TcaTDFjmX-QZwRtgYsmBJoIbexYQsN79fvH3QxooUHpgrmAtdwzxzgGOZsiUB3ZdSGkcCAMxIabBlxiMf_rghmce5xo3asY3rJIGgeH9gkM3iw4lg7neIXSQ73W8UBAAA.","travellerPrices":[{"travellerReference":"1","travellerPriceBreakdown":{"total":{"nanos":820000000,"units":7318,"currencyCode":"GBP"},"baseFare":{"nanos":620000000,"units":6476,"currencyCode":"GBP"},"moreTaxesAndFees":{},"fee":{"nanos":0,"units":0,"currencyCode":"GBP"},"discount":{"nanos":0,"units":0,"currencyCode":"GBP"},"tax":{"nanos":200000000,"units":842,"currencyCode":"GBP"},"totalWithoutDiscount":{"nanos":820000000,"units":7318,"currencyCode":"GBP"}},"travellerType":"ADULT"}],"key":"FASTEST"},{"price":{"nanos":820000000,"units":7318,"currencyCode":"GBP"},"offerToken":"d6a1f_H4sIAAAAAAAA_y2QbW-CMBSFf41-o9AWrZg0ixNQp8B8g2VfGqwVUWYdrfPl16-TpTf3OeemvTnpXuuz6tv2riqLvVbW5QgKqWWRawG4_LJ3tWkbKY_lqbDzsrZn48XQHyG8DN5taFvm8H74Im7aUjWn7XIjQK44hf-qpl2AYZi9OjB9jrjU1AV4Ert-2vvws2ZY01HyFkD8dFsaDa_X5DFQka8M1yQ6RCRyqiQOFlkSLubpQWcxnKu0qqazkF-TldJxGE9m_kCtU9nC_nOR4CYIAC7xmjgyV__BJNcUOo3carr4zLzJuLGaEgx7PfR0NwoR8jCAiOBeW4lKcF3K01TcaTDFjmX-QZwRtgYsmBJoIbexYQsN79fvH3QxooUHpgrmAtdwzxzgGOZsiUB3ZdSGkcCAMxIabBlxiMf_rghmce5xo3asY3rJIGgeH9gkM3iw4lg7neIXSQ73W8UBAAA.","travellerPrices":[{"travellerReference":"1","travellerPriceBreakdown":{"total":{"nanos":820000000,"units":7318,"currencyCode":"GBP"},"baseFare":{"nanos":620000000,"units":6476,"currencyCode":"GBP"},"moreTaxesAndFees":{},"fee":{"nanos":0,"units":0,"currencyCode":"GBP"},"discount":{"nanos":0,"units":0,"currencyCode":"GBP"},"tax":{"nanos":200000000,"units":842,"currencyCode":"GBP"},"totalWithoutDiscount":{"nanos":820000000,"units":7318,"currencyCode":"GBP"}},"travellerType":"ADULT"}],"key":"BEST"}],"atolProtectedStatus":"ALL"}

```

### Running Tests
Tests can be executed using Maven
```java
mvn clean test
```